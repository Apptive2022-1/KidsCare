<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>글 목록</title>

    <style>
    .header {
      display:flex;
      height: 6em;
      padding: 1em 1em 0em 3em;
      background-color: rgba(246, 216, 118, 0.32);
    }
    body {
      flex-grow: 0;
      background-color: #fff;
    }
    span.menu {
      cursor: pointer;
      width: 5em;
      height: 1em;
      font-family: NotoSansKR;
      font-size: 1.25em;
      font-weight: 300;
      font-stretch: normal;
      font-style: normal;
      line-height: 1;
      letter-spacing: normal;
      text-align: left;
      color: #000;
    }
    .logo {
      width: 20em;
      margin: 0.8em 0em 0em 0em;
      object-fit: contain;
    }
    .all {
      width: 45em;
    }
    .all-title {
      height: 1em;
      font-family: Inter;
      font-size: 1.5em;
      font-weight: bold;
      font-stretch: normal;
      font-style: normal;
      line-height: normal;
      letter-spacing: normal;
      text-align: left;
      color: #499e99;
    }
    .line-23 {
      width: 100%;
      height: 3px;
      background-color: #499e99;
    }
    .img {
        width:1.5em;
        height:1.5em;
    }
    .sch {
      width:90%;
      height: 2em;
      background-color: #f9f9f9;
    }
    .sort {
      float:right;
      width: 7em;
      height: 2.5em;
      border: solid
    }
    .result {
      display:inline-block;
      float:left;
      width: 43em;
      height: 5em;
      margin: 1em 0.5em 0em 0.75em;
      padding: 21px 8px 16px 9px;
      background-color: #f9f9f9;
    }
    .result-title {
      float:left;
      width: 100%;
      height: 1.5em;
      font-family: NotoSansKR;
      font-size: 1em;
      font-weight: 500;
      font-stretch: normal;
      font-style: normal;
      line-height: 1;
      letter-spacing: normal;
      text-align: left;
      color: #000;
    }
    .result-date {
      border:3px solid green;
      width:7em;
      font-size: 0.9em;
      margin-Top:0.1em;
    }
    .result-writer {
      border:3px solid green;
      width:5em;
      margin-Left: 2em;
    }
    .result-content {
      display:block;
      float:left;
      border:3px solid blue;
      width: 100%;
      height: 1em;
      font-family: NotoSansKR;
      font-size: 0.75em;
      font-weight: 300;
      font-stretch: normal;
      font-style: normal;
      line-height: 1;
      letter-spacing: normal;
      text-align: left;
      color: #000;
    }


    .write {
      float:right;
      cursor:pointer;
      width: 6em;
      height: 2em;
      margin: 1em 0em 1em 0em;
      border-radius: 14px;
      border:none;
      background-color: #fcf2d3;
    }
    .write-content {
      width: 5em;
      height: 2em;
      font-family: NotoSansKR;
      font-size: 1em;
      font-weight: 500;
      font-stretch: normal;
      font-style: normal;
      line-height: 1;
      letter-spacing: normal;
      text-align: left;
      color: #5f5f5f;
    }
    .bubble {
      width:2em;
    }
    .heart {
      width:3em;
    }
    </style>
</head>
<body>
    <div class="header" ><!--상단 부분-->
        <div>
            <a href="/"><img class="logo" src="/static/img/logo.png" alt="로고"></a>
        </div>
        <div style="position:absolute;right:10px;">
            <div>
                <p>계정이름</p>
                <p th:if="${isLogined}=='true'" th:text="${m.loginId}"></p>
            </div>
        </div>
    </div>

    <center>
        <div class="content" style="border:3px solid blue; width:50em;">
            <div class="banner" style="float:left;">
                <p style="background:green;">광고1</p>
                <p>광고2</p>
                <p>광고3</p>
                <p>광고4</p>
                <p>광고5</p>
                <p>광고6</p>
                <p>광고7</p>

            </div>


            <div class="all" style="float:left; border:3px solid green;">
                <div style="float:left; margin:1em 0em 0em 1em;">
                    <span class="all-title">전체글</span>
                    <div class="line-23"></div>
                </div>
                <div style="display:flex; border:3px solid red; width:100%; height:2em;">
                    <div style="width:90%">
                        <button onclick="location.href='/search'"><img src="/static/img/sch.png" class="img"/></button>
                    </div>

                    <select onchange="if(this.value) location.href=(this.value);"  name="sort" class="sort" required autofocus>
                        <option value="/contents" selected>최신순</option>
                        <option value="/contents/own">내꺼</option>
                    </select>
                </div>

                <div th:each="writing : ${writingList}">
                    <div class="result">
                        <span scope="row" th:text="${pagination.startIndex + writingStat.index + 1}">글 번호</span>
                        <a href="#" th:href="@{/contents/{id} (id=${writing.id})}"><div style="border:3px solid red; height:1em;"><span th:text="${writing.title}" class="result-title">제목</span></div></a>
                        <a href="#" th:href="@{/contents/{id} (id=${writing.id})}"><span class="result-content" th:text="${writing.context}">내용</span></a>
                        <!--하트, 댓글, 날짜-->
                        <div style="display:flex; border:3px solid red; width:100%; height:1em; margin-Top:2em;">
                            <span th:text="${#temporals.format(writing.createDate,'yyyy.MM.dd')}" class="result-date">날짜</span>
                            <span th:text="${writing.member.nickName}" class="result-writer">작성자</span>
                            <div style="display:flex; margin-Left:25em;">
                                <div class="bubble">
                                    <img src="/static/img/bubble.png" style="margin-Top:0.25em"/>
                                    <span th:text="${writing.getAnswers().size()}">4</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <button class="write" type="button" onclick="location.href='/contents/writing'"><span class="write-content">글작성</span></button>
            </div>
        </div>
    </center>




    <nav aria-label="Page navigation example ">
        <ul class="pagination">
            <li class="page-item">
                <a class="page-link" th:href="@{/contents/?page=1}" aria-label="Previous">
                    <span aria-hidden="true">처음</span>
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" th:href="@{/contents(page = ${pagination.prevBlock})}" aria-label="Previous">
                    <span aria-hidden="true">이전</span>
                </a>
            </li>
            <th:block  th:with="start = ${pagination.startPage}, end = ${pagination.endPage}">
                <li class="page-item"
                    th:with="start = ${pagination.startPage}, end = ${pagination.endPage}"
                    th:each="pageButton : ${#numbers.sequence(start, end)}">
                    <a class="page-link" th:href="@{/contents(page = ${pageButton})}" th:text="${pageButton}"></a>
                </li>
            </th:block>
            <li class="page-item">
                <a class="page-link" th:href="@{/contents(page = ${pagination.nextBlock})}" aria-label="Next">
                    <span aria-hidden="true">다음</span>
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" th:href="@{/contents(page = ${pagination.totalPageCnt})}" aria-label="Previous">
                    <span aria-hidden="true">끝</span>
                </a>
            </li>
        </ul>
    </nav>

</body>
</html>